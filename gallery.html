<!DOCTYPE html>
<html lang="en">

<head>
    <title>Nick Henning - Gallery</title>
    <meta name="description" content="Dev, Musician & Photographer">
    <meta name="author" content="Nick Henning">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--External-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
    <!--Files-->
    <link rel="stylesheet" href="css/include.css">
</head>

<body>
    <!-- Nav (Fetch) -->
    <div id="pNav"></div>
    <script>
        fetch('partials/nav.html')
            .then(res => res.text())
            .then(html => {
                document.getElementById('pNav').innerHTML = html;

                setTimeout(() => {
                    const currentPage = window.location.pathname.split('/').pop();

                    document.querySelectorAll('.c-nav__list__item').forEach(link => {
                        const href = link.getAttribute('href');
                        if (href === currentPage) {
                            link.classList.add('c-nav__list__item--current');
                        }
                    });
                }, 0);
            });
    </script>
    <!-- Message (Fetch) -->
    <div id="pMessage"></div>
    <script>
        fetch('partials/message.html')
            .then(res => res.text())
            .then(html => {
                document.getElementById('pMessage').innerHTML = html;
            });
    </script>
    <!--Overlay-->
    <div class="container--full c-overlay">
        <img id="overlay-gallery-image" class="c-image c-image--21x9 c-overlay__image" />
        <div class="c-overlay__content inverted">
            <h1 id="overlay-gallery-heading" class="c-heading c-heading--h1 c-heading--has-subheading"></h1>
            <h2 id="overlay-gallery-subheading" class="c-subheading c-subheading--h2"></h2>
            <p id="overlay-gallery-description" class="c-text"></p>
        </div>
    </div>
    <!-- Gallery & Lightbox -->
    <div class="container">
        <div class="c-gallery">
            <div class="c-gallery__grid">
            </div>
            <div class="c-lightbox">
                <button type="button" class="c-lightbox__close">&times;</button>
                <button type="button" class="c-lightbox__arrow c-lightbox__arrow--prev">
                    <svg aria-hidden="true" width="16" height="16" fill="currentColor" class="bi bi-caret-left-fill"
                        viewBox="0 0 16 16">
                        <path
                            d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z" />
                    </svg>
                </button>
                <img class="c-lightbox__img" src="" alt="Großansicht" />
                <button type="button" class="c-lightbox__arrow c-lightbox__arrow--next">
                    <svg aria-hidden="true" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill"
                        viewBox="0 0 16 16">
                        <path
                            d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                    </svg>
                </button>
                <p class="c-lightbox__hint">&copy; Nick Henning - All rights reserved</p>
            </div>
        </div>
    </div>
    <!-- Cookie Consent -->
    <div class="c-cookie-consent">
        <div class="container">
            <div class="c-btnbar">
                <button type="button" id="modal-cookieConsent-buttonTrigger"
                    class="c-btn c-btn--inverted c-cookie-consent__trigger js-open-consent-modal"></button>
            </div>
        </div>
        <div class="c-modal js-cookie-consent-modal" style="display:none;">
            <div class="c-modal__content">
                <h3 id="modal-cookieConsent-title" class="c-heading c-heading--h3"></h3>
                <p id="modal-cookieConsent-p01" class="c-text"></p>
                <p id="modal-cookieConsent-p02" class="c-text"></p>
                <p id="modal-cookieConsent-p03" class="c-text"></p>
                <label class="c-switch">
                    <input name="switchSpotify" type="checkbox" class="js-consent-toggle">
                    <span class="c-switch-slider"></span>
                    <span id="modal-cookieConsent-switchLabel" class="c-text c-switch-label"></span>
                </label>
                <div class="c-btnbar">
                    <button id="modal-cookieConsent-buttonSave" type="button"
                        class="c-btn c-btn--primary js-consent-update"></button>
                    <button id="modal-cookieConsent-buttonClose" type="button"
                        class="c-btn c-btn--inverted js-consent-close"></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer (Fetch) -->
    <div id="pFooter"></div>
    <script>
        fetch('partials/footer.html')
            .then(res => res.text())
            .then(html => {
                document.getElementById('pFooter').innerHTML = html;

                // Jetzt ist der Footer im DOM → Jahr setzen
                const yearSpan = document.getElementById('footerCopyrightYear');
                if (yearSpan) {
                    yearSpan.textContent = new Date().getFullYear();
                }
            });
    </script>


    <!-- Scripts -->
    <script type="text/javascript" src="lib/jquery/jquery-3.7.1.min.js"></script>
    <!-- Gallery Script (Fetch) -->
    <script defer>
        fetch('media/gallery/gallery.json')
            .then(res => res.json())
            .then(images => {
                const grid = document.querySelector('.c-gallery__grid');
                images.forEach(filename => {
                    const img = document.createElement('img');
                    img.className = 'c-image js-lightbox-trigger';
                    img.src = `media/gallery/${filename}`;
                    img.title = 'Nick Henning - Gallery';
                    img.tabIndex = 0;
                    img.loading = 'lazy';
                    grid.appendChild(img);
                });
            })
            .catch(err => console.error('Fehler beim Laden der Galerie:', err));
    </script>
    <!-- Lightbox Script -->
    <script defer type="text/javascript" src="js/lightbox/lightbox.js"></script>
    <!-- Cookie Consent -->
    <script defer type="text/javascript" src="js/cookieconsent/cookie-consent.js"></script>
    <!-- Data -->
    <script defer type="text/javascript" src="data/data.js"></script>

</body>

</html>